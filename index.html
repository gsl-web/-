<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ÊàëÁöÑÊñáÊ°£ - Á±ª‰ººTypora</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- DocsifyÊ†∏ÂøÉÊ†∑Âºè -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
    
    <!-- Font AwesomeÂõæÊ†á -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ===== ‰æßËæπÊ†èÊ†áÁ≠æÈ°µÊ†∑Âºè ===== */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid #e9ecef;
            background: #f8f9fa;
            padding: 0 10px;
        }
        
        .sidebar-tab {
            flex: 1;
            padding: 12px 15px;
            text-align: center;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 14px;
            color: #495057;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .sidebar-tab:hover {
            background: #e9ecef;
            color: #007bff;
        }
        
        .sidebar-tab.active {
            color: #007bff;
            border-bottom-color: #007bff;
            background: #fff;
            font-weight: 600;
        }
        
        .sidebar-tab i {
            font-size: 16px;
        }
        
        /* ===== ‰æßËæπÊ†èÂÜÖÂÆπÂå∫ ===== */
        .sidebar-content {
            padding: 15px;
            height: calc(100vh - 60px);
            overflow-y: auto;
        }
        
        /* Êñá‰ª∂Ê†ëÂÆπÂô® */
        #file-tree {
            display: block;
        }
        
        /* Â§ßÁ∫≤ÂÆπÂô® */
        #page-outline {
            display: none;
        }
        
        /* ===== Êñá‰ª∂Ê†ëÊ†∑ÂºèÔºàÁ±ª‰ººTyporaÔºâ ===== */
        .file-tree {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        
        .file-tree li {
            margin: 4px 0;
            position: relative;
        }
        
        .file-tree ul {
            list-style: none;
            padding-left: 20px;
            margin: 2px 0;
            border-left: 1px solid #dee2e6;
            margin-left: 10px;
        }
        
        /* Êñá‰ª∂Â§πÂíåÊñá‰ª∂ÂõæÊ†á */
        .file-tree .folder::before {
            content: 'üìÅ ';
            margin-right: 6px;
            font-size: 14px;
        }
        
        .file-tree .file::before {
            content: 'üìÑ ';
            margin-right: 6px;
            font-size: 14px;
        }
        
        /* ÂèØÊäòÂè†ÁöÑÊñá‰ª∂Â§π */
        .file-tree .folder.collapsible {
            cursor: pointer;
            user-select: none;
        }
        
        .file-tree .folder.collapsible::before {
            content: 'üìÇ ';
            transition: transform 0.3s;
        }
        
        .file-tree .folder.collapsible.collapsed::before {
            content: 'üìÅ ';
        }
        
        /* Êñá‰ª∂Â§πÂ≠êÈ°πÈöêËóè/ÊòæÁ§∫ */
        .file-tree .folder.collapsed + ul {
            display: none;
        }
        
        .file-tree .folder:not(.collapsed) + ul {
            display: block;
        }
        
        /* Êñá‰ª∂ÈìæÊé•Ê†∑Âºè */
        .file-tree a {
            color: #2c3e50;
            text-decoration: none;
            padding: 6px 10px;
            border-radius: 4px;
            display: block;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .file-tree a:hover {
            background: #e9ecef;
            color: #007bff;
        }
        
        .file-tree li.active > a {
            background: #007bff;
            color: white;
            font-weight: 500;
        }
        
        /* ===== Â§ßÁ∫≤Ê†∑ÂºèÔºàÁ±ª‰ººTyporaÔºâ ===== */
        .page-outline {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        
        .page-outline li {
            margin: 4px 0;
            position: relative;
        }
        
        /* Â§ßÁ∫≤Â±ÇÁ∫ßÁº©Ëøõ */
        .outline-h1 { padding-left: 0; font-weight: 600; font-size: 15px; }
        .outline-h2 { padding-left: 15px; font-size: 14px; }
        .outline-h3 { padding-left: 30px; font-size: 13px; color: #666; }
        .outline-h4 { padding-left: 45px; font-size: 12px; color: #888; }
        .outline-h5 { padding-left: 60px; font-size: 12px; color: #aaa; }
        .outline-h6 { padding-left: 75px; font-size: 11px; color: #ccc; }
        
        .page-outline a {
            color: #2c3e50;
            text-decoration: none;
            padding: 6px 10px;
            border-radius: 4px;
            display: block;
            transition: all 0.2s;
            font-size: 14px;
        }
        
        .page-outline a:hover {
            background: #e9ecef;
            color: #007bff;
        }
        
        .page-outline li.active > a {
            background: #e9ecef;
            color: #007bff;
            font-weight: 500;
        }
        
        /* ===== ÂìçÂ∫îÂºèË∞ÉÊï¥ ===== */
        @media (max-width: 768px) {
            .sidebar-tab span {
                display: none;
            }
            
            .sidebar-tab i {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- ‰∏ªÂÆπÂô® -->
    <div id="app"></div>
    
    <!-- Ëá™ÂÆö‰πâ‰æßËæπÊ†èÊ®°Êùø -->
    <script type="text/template" id="custom-sidebar">
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" data-tab="file-tree">
                <i class="fas fa-folder-tree"></i>
                <span>Êñá‰ª∂Ê†ë</span>
            </button>
            <button class="sidebar-tab" data-tab="page-outline">
                <i class="fas fa-list"></i>
                <span>Â§ßÁ∫≤</span>
            </button>
        </div>
        
        <div class="sidebar-content">
            <!-- Êñá‰ª∂Ê†ëÂÜÖÂÆπ -->
            <div id="file-tree" class="tab-content active">
                <ul class="file-tree">
                    <!-- Âä®ÊÄÅÁîüÊàêÊñá‰ª∂Ê†ë -->
                </ul>
            </div>
            
            <!-- Â§ßÁ∫≤ÂÜÖÂÆπ -->
            <div id="page-outline" class="tab-content">
                <ul class="page-outline">
                    <!-- Âä®ÊÄÅÁîüÊàêÂ§ßÁ∫≤ -->
                </ul>
            </div>
        </div>
    </script>

    <script>
        window.$docsify = {
            name: 'üìö ÊàëÁöÑÊñáÊ°£',
            repo: '',
            loadSidebar: false, // Á¶ÅÁî®ÈªòËÆ§‰æßËæπÊ†è
            auto2top: true,
            maxLevel: 6, // ÊúÄÂ§ßÊ†áÈ¢òÁ∫ßÂà´
            subMaxLevel: 3,
            
            // ÊêúÁ¥¢ÈÖçÁΩÆ
            search: {
                paths: 'auto',
                placeholder: 'üîç ÊêúÁ¥¢ÊñáÊ°£...',
                noData: 'Êú™ÊâæÂà∞Áõ∏ÂÖ≥ÂÜÖÂÆπ',
                depth: 4
            },
            
            // Êèí‰ª∂ÈÖçÁΩÆ
            plugins: [
                // Ëá™ÂÆö‰πâ‰æßËæπÊ†èÊèí‰ª∂
                function(hook, vm) {
                    // ÂàùÂßãÂåñÂÆåÊàêÂêéÊ∑ªÂä†‰æßËæπÊ†è
                    hook.mounted(function() {
                        // ÂàõÂª∫‰æßËæπÊ†èÂÆπÂô®
                        const sidebar = document.createElement('aside');
                        sidebar.className = 'sidebar';
                        sidebar.style.width = '300px';
                        sidebar.innerHTML = document.getElementById('custom-sidebar').innerHTML;
                        
                        // ÊèíÂÖ•Âà∞È°µÈù¢‰∏≠
                        const app = document.querySelector('#app');
                        const content = document.createElement('div');
                        content.className = 'content';
                        content.style.marginLeft = '300px';
                        content.style.padding = '20px';
                        content.style.maxWidth = '900px';
                        
                        // ÁßªÂä®ÂéüÊúâÂÜÖÂÆπ
                        const originalContent = app.innerHTML;
                        content.innerHTML = originalContent;
                        app.innerHTML = '';
                        app.appendChild(sidebar);
                        app.appendChild(content);
                        
                        // ÂàùÂßãÂåñÊñá‰ª∂Ê†ë
                        initFileTree();
                        
                        // ÂàùÂßãÂåñÊ†áÁ≠æÈ°µÂàáÊç¢
                        initTabSwitcher();
                    });
                    
                    // ÊØèÊ¨°È°µÈù¢Êõ¥Êñ∞ÂêéÂà∑Êñ∞Â§ßÁ∫≤
                    hook.doneEach(function() {
                        updatePageOutline();
                        highlightCurrentFile();
                    });
                }
            ]
        };
        
        // ÂàùÂßãÂåñÊ†áÁ≠æÈ°µÂàáÊç¢
        function initTabSwitcher() {
            const tabs = document.querySelectorAll('.sidebar-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // ÁßªÈô§ÊâÄÊúâÊøÄÊ¥ªÁä∂ÊÄÅ
                    document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // ÊøÄÊ¥ªÂΩìÂâçÊ†áÁ≠æ
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }
        
        // ÂàùÂßãÂåñÊñá‰ª∂Ê†ë
        function initFileTree() {
            const fileTree = document.querySelector('.file-tree');
            
            // Ê®°ÊãüÊñáÊ°£ÁªìÊûÑ - ‰Ω†ÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµ‰øÆÊîπ
            const treeData = [
                {
                    name: 'docs',
                    type: 'folder',
                    children: [
                        {
                            name: 'Âà§Êñ≠Êé®ÁêÜ',
                            type: 'folder',
                            children: [
                                { name: '‰∏ÄËà¨ÂΩíÂõ†.md', type: 'file', path: '#/Âà§Êñ≠Êé®ÁêÜ/‰∏ÄËà¨ÂΩíÂõ†' },
                                { name: 'ÂØπÊØîÂÆûÈ™åÂΩíÂõ†.md', type: 'file', path: '#/Âà§Êñ≠Êé®ÁêÜ/ÂØπÊØîÂÆûÈ™åÂΩíÂõ†' },
                                { name: 'Êó∂Èó¥ÂØπÊØîÂΩíÂõ†.md', type: 'file', path: '#/Âà§Êñ≠Êé®ÁêÜ/Êó∂Èó¥ÂØπÊØîÂΩíÂõ†' }
                            ]
                        },
                        { name: 'ÂÆö‰πâÂà§Êñ≠.md', type: 'file', path: '#/ÂÆö‰πâÂà§Êñ≠' },
                        { name: 'Á±ªÊØîÊé®ÁêÜ.md', type: 'file', path: '#/Á±ªÊØîÊé®ÁêÜ' },
                        { name: 'ÂõæÂΩ¢Êé®ÁêÜ.md', type: 'file', path: '#/ÂõæÂΩ¢Êé®ÁêÜ' },
                        { name: 'Âπ≥Èù¢ÂõæÊé®.md', type: 'file', path: '#/Âπ≥Èù¢ÂõæÊé®' }
                    ]
                },
                { name: 'README.md', type: 'file', path: '#/' }
            ];
            
            // ÁîüÊàêÊñá‰ª∂Ê†ëHTML
            fileTree.innerHTML = generateFileTreeHTML(treeData);
            
            // Ê∑ªÂä†Êñá‰ª∂Â§πÊäòÂè†ÂäüËÉΩ
            document.querySelectorAll('.folder.collapsible').forEach(folder => {
                folder.addEventListener('click', function(e) {
                    if (e.target.tagName === 'A') return; // ÁÇπÂáªÈìæÊé•‰∏çÊäòÂè†
                    this.classList.toggle('collapsed');
                });
            });
            
            // Ê∑ªÂä†Êñá‰ª∂ÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.file-tree a').forEach(link => {
                link.addEventListener('click', function(e) {
                    // Êõ¥Êñ∞ÂΩìÂâçÊ¥ªÂä®Êñá‰ª∂
                    document.querySelectorAll('.file-tree li.active').forEach(li => {
                        li.classList.remove('active');
                    });
                    this.parentElement.classList.add('active');
                });
            });
        }
        
        // ÁîüÊàêÊñá‰ª∂Ê†ëHTML
        function generateFileTreeHTML(items, level = 0) {
            let html = '';
            
            items.forEach(item => {
                if (item.type === 'folder') {
                    html += `
                        <li>
                            <div class="folder collapsible ${level === 0 ? '' : 'collapsed'}">
                                ${item.name}
                            </div>
                            <ul>
                                ${generateFileTreeHTML(item.children || [], level + 1)}
                            </ul>
                        </li>
                    `;
                } else if (item.type === 'file') {
                    html += `
                        <li class="file">
                            <a href="${item.path}">${item.name}</a>
                        </li>
                    `;
                }
            });
            
            return html;
        }
        
        // Êõ¥Êñ∞È°µÈù¢Â§ßÁ∫≤
        function updatePageOutline() {
            const outlineContainer = document.querySelector('.page-outline');
            const headings = document.querySelectorAll('.markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6');
            
            if (headings.length === 0) {
                outlineContainer.innerHTML = '<li style="color: #999; padding: 10px;">Ê≠§È°µÈù¢Ê≤°ÊúâÊ†áÈ¢ò</li>';
                return;
            }
            
            let outlineHTML = '';
            
            headings.forEach((heading, index) => {
                const level = parseInt(heading.tagName.substring(1));
                const text = heading.textContent;
                const id = heading.id || `heading-${index}`;
                
                // Â¶ÇÊûúÊ≤°ÊúâidÔºåÁªôheadingÊ∑ªÂä†‰∏Ä‰∏™
                if (!heading.id) {
                    heading.id = id;
                }
                
                outlineHTML += `
                    <li class="outline-h${level}">
                        <a href="#${id}">${text}</a>
                    </li>
                `;
            });
            
            outlineContainer.innerHTML = outlineHTML;
            
            // Ê∑ªÂä†Â§ßÁ∫≤ÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.page-outline a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // ÊªöÂä®Âà∞ÁõÆÊ†á‰ΩçÁΩÆ
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // È´ò‰∫ÆÂΩìÂâçÂ§ßÁ∫≤È°π
                        document.querySelectorAll('.page-outline li.active').forEach(li => {
                            li.classList.remove('active');
                        });
                        this.parentElement.classList.add('active');
                    }
                });
            });
        }
        
        // È´ò‰∫ÆÂΩìÂâçÊñá‰ª∂
        function highlightCurrentFile() {
            const currentPath = window.location.hash;
            document.querySelectorAll('.file-tree a').forEach(link => {
                link.parentElement.classList.remove('active');
                if (link.getAttribute('href') === currentPath || 
                    (currentPath === '#/' && link.getAttribute('href') === '#/')) {
                    link.parentElement.classList.add('active');
                    
                    // Â±ïÂºÄÁà∂Á∫ßÊñá‰ª∂Â§π
                    let parent = link.parentElement;
                    while (parent) {
                        const folder = parent.querySelector('.folder.collapsible');
                        if (folder && folder.classList.contains('collapsed')) {
                            folder.classList.remove('collapsed');
                        }
                        parent = parent.parentElement.closest('li');
                    }
                }
            });
        }
        
        // ÁõëÂê¨È°µÈù¢ÊªöÂä®ÔºåÊõ¥Êñ∞Â§ßÁ∫≤È´ò‰∫Æ
        function initScrollSpy() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        document.querySelectorAll('.page-outline li.active').forEach(li => {
                            li.classList.remove('active');
                        });
                        const correspondingLink = document.querySelector(`.page-outline a[href="#${id}"]`);
                        if (correspondingLink) {
                            correspondingLink.parentElement.classList.add('active');
                        }
                    }
                });
            }, {
                rootMargin: '-80px 0px -80% 0px',
                threshold: 0
            });
            
            // ËßÇÂØüÊâÄÊúâÊ†áÈ¢ò
            document.querySelectorAll('.markdown-section h1, .markdown-section h2, .markdown-section h3').forEach(heading => {
                observer.observe(heading);
            });
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñÊªöÂä®ÁõëÂê¨
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(initScrollSpy, 1000);
        });
    </script>
    
    <!-- DocsifyÊ†∏ÂøÉÂ∫ì -->
    <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
    
    <!-- ÊêúÁ¥¢Êèí‰ª∂ -->
    <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
    
    <!-- ‰ª£Á†ÅÈ´ò‰∫Æ -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-javascript.min.js"></script>
</body>
</html>